(this["webpackJsonpfront-barber"]=this["webpackJsonpfront-barber"]||[]).push([[0],{185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(38),c=n.n(a),s=n(29),o=n(25),u=n(21),l=n(257),d=n(3),b=n(42),j=n(16),f=n(13),p=n(9),x=n.n(p),O=n(104),h="https://via.placeholder.com/150",m=function(){return localStorage.getItem("@barber:access-token")},g=n.n(O).a.create({baseURL:"https://barber-book-nodejs.herokuapp.com/"});g.interceptors.request.use(function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=m())&&(t.headers["access-token"]=n),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var v=g,y=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sabado"],w=function(e){return"".concat(e).padStart(2,"0")},C=function(e){var t=new Date(e),n=w(t.getDate()),r=w(t.getMonth()+1),i=y[t.getDay()];return"".concat(n,"/").concat(r," ").concat(i)},S=function(e){var t=new Date(e),n="".concat(w(t.getHours()),":").concat(w(t.getMinutes())),r="";return r=n.includes(":30")?"".concat(w(t.getHours()+1),":00"):"".concat(w(t.getHours()),":").concat(w(t.getMinutes()+30)),"".concat(n," - ").concat(r)},k=function(e){var t=C(e),n=S(e);return"".concat(t," ").concat(n)},D=function(e){var t;if(!e||null!==e&&void 0!==e&&e.error)return s.a.error((null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.message)||"Ops, tente novamente mais tarde!"),null;return[200,201,204].includes(e.status)?e.data.data:null},L=function(e){if(e.response)return{error:{message:e.response.data.error,status:e.response.status}}},T=function(){var e=Object(j.a)(x.a.mark((function e(t){var n,r,i,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=void 0===n?"":n,i=t.password,a=void 0===i?"":i,e.next=3,v.post("/login",{email:r,password:a}).catch(L);case 3:return c=e.sent,e.abrupt("return",D(c));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/me").catch(L);case 2:return t=e.sent,e.abrupt("return",D(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/client",t).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/offers/me").catch(L);case 2:return t=e.sent,e.abrupt("return",D(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/barber").catch(L);case 2:return t=e.sent,e.abrupt("return",D(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/barber/".concat(t)).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/offers/".concat(t)).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/schedule",t).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/service",t).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/service/".concat(t)).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.put("/service/".concat(t._id),t).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/schedule/me").catch(L);case 2:return t=e.sent,e.abrupt("return",D(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/schedule/".concat(t)).catch(L);case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.put("/schedule/".concat(t),n).catch(L);case 2:return r=e.sent,e.abrupt("return",D(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=n(0),V=["userType"],X=Object(r.createContext)({user:null,userType:"",setUser:function(){},setUserType:function(){},logOut:function(){}}),q=function(e){var t=e.children,n=m(),i=Object(u.useHistory)(),a=Object(r.useState)({user:null,userType:""}),c=Object(f.a)(a,2),s=c[0],o=c[1],l=Object(r.useCallback)(Object(j.a)(x.a.mark((function e(){var t,r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["/login","/sign-up"].includes(i.location.pathname)||n){e.next=2;break}return e.abrupt("return");case 2:if(n){e.next=5;break}return i.push("/login"),e.abrupt("return");case 5:if(s.user&&s.userType){e.next=12;break}return e.next=8,B();case 8:t=e.sent,r=t.user,a=r.userType,c=Object(b.a)(r,V),p(c),O(a);case 12:"BARBER"!==s.userType||i.location.pathname.includes("/barber")||i.push("/barber"),"CLIENT"!==s.userType||i.location.pathname.includes("/client")||i.push("/client");case 14:case"end":return e.stop()}}),e)}))),[i,n,s]);Object(r.useEffect)((function(){l()}),[l]);var p=function(e){return o((function(t){return Object(d.a)(Object(d.a)({},t),{},{user:e})}))},O=function(e){return o((function(t){return Object(d.a)(Object(d.a)({},t),{},{userType:e})}))};return Object(M.jsx)(X.Provider,{value:Object(d.a)(Object(d.a)({},s),{},{setUser:p,setUserType:O,logOut:function(){localStorage.removeItem("@barber:access-token"),i.push("/login")}}),children:t})};function G(){var e=Object(r.useContext)(X);if(!e)throw new Error("useApp must be used within an ApplicationProvider.");return e}var J=n(255),Q=["children","color","isLoading"];function Y(e){var t=e.children,n=e.color,r=e.isLoading,i=Object(b.a)(e,Q);return Object(M.jsxs)(J.a,Object(d.a)(Object(d.a)({color:n,variant:"contained"},i),{},{onClick:r?null:i.onClick,children:[r&&Object(M.jsx)(ne,{}),!r&&t]}))}var $,K=n(51),Z=n(107),ee=n(17),te=Object(ee.css)($||($=Object(K.a)(["\n  display: flex;\n  margin: 0 4px;\n"])));function ne(e){return Object(M.jsx)(Z.PulseLoader,Object(d.a)({size:"12px",color:"#fff",css:te},e))}var re=n(258),ie=n(259),ae=n(260),ce=n(250),se=n(263),oe=n(234),ue=n(235),le=["children","helperText","errorText"];function de(e){var t=e.children,n=e.helperText,i=e.errorText,a=void 0===i?"":i,c=Object(b.a)(e,le),s=Object(r.useState)(!1),o=Object(f.a)(s,2),u=o[0],l=o[1],j={type:"password"===c.type?u?"text":"password":c.type,endAdornment:"password"===c.type?Object(M.jsx)(re.a,{position:"end",children:Object(M.jsx)(ie.a,{"aria-label":"toggle password visibility",onClick:function(){return l((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},children:u?Object(M.jsx)(oe.a,{}):Object(M.jsx)(ue.a,{})})}):Object(M.jsx)(M.Fragment,{})};return Object(M.jsxs)(ae.a,{children:[Object(M.jsx)(ce.a,Object(d.a)(Object(d.a)({error:!!a,variant:"outlined"},c),{},{InputProps:Object(d.a)(Object(d.a)({},c),j),children:t})),Object(M.jsx)(se.a,{error:!!a,children:n||a})]})}var be=n(241),je=n(264),fe=n(265),pe=n(207);function xe(){var e=G().logOut,t=Object(u.useHistory)();return Object(M.jsx)(be.a,{sx:{flexGrow:1},children:Object(M.jsx)(je.a,{color:"default",position:"fixed",children:Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(pe.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"BarberBook"}),!["/login","/sign-up"].includes(t.location.pathname)&&Object(M.jsx)(Y,{color:"error",onClick:e,children:"Sair"})]})})})}function Oe(e){var t=e.children,n=Object(u.useHistory)();return Object(M.jsxs)(be.a,{sx:{height:"100vh",width:"100vw",overflowY:"scroll",overflowX:"hidden",maxWidth:"100%"},children:[Object(M.jsx)(xe,{}),Object(M.jsx)(be.a,{sx:{height:"100vh",width:"100%",marginTop:"100px",paddingBottom:"180px"},children:t}),!n.location.pathname.includes("/client/offers")&&Object(M.jsx)(Ce,{})]})}n(185);function he(e){var t=e.src,n=e.alt,r=e.style;return Object(M.jsx)("img",{src:t||"https://via.placeholder.com/150",alt:n,style:r,loading:"lazy"})}var me=n(262),ge=n(266),ve=n(267),ye=n(242),we=n(243);function Ce(){var e=Object(u.useHistory)(),t=G().userType,n=Object(r.useState)(null!==e&&void 0!==e&&e.location.pathname.includes("schedule")?"schedule":"home"),i=Object(f.a)(n,2),a=i[0],c=i[1];return["/login","/sign-up"].includes(e.location.pathname)?Object(M.jsx)(M.Fragment,{}):Object(M.jsx)(me.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(M.jsxs)(ge.a,{showLabels:!0,sx:{height:"80px"},value:a,onChange:function(n,r){c(r),"home"===r?"BARBER"===t?e.push("/barber"):e.push("/client"):"schedule"===r&&("BARBER"===t?e.push("/barber/schedule"):e.push("/client/schedule"))},children:[Object(M.jsx)(ve.a,{label:"BARBER"===t?"Servicos":"Barbearias",value:"home",icon:Object(M.jsx)(ye.a,{})}),Object(M.jsx)(ve.a,{label:"Agendamentos",value:"schedule",icon:Object(M.jsx)(we.a,{})})]})})}var Se=n(268),ke=n(269),De=n(270);function Le(e){var t=e.title,n=e.description,r=e.imageUrl,i=e.onPress,a=void 0===i?function(){}:i;return Object(M.jsx)(Se.a,{sx:{marginX:5},children:Object(M.jsxs)(ke.a,{onClick:a,sx:{height:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",borderRadius:3},children:[Object(M.jsxs)(De.a,{children:[Object(M.jsx)(pe.a,{variant:"h6",children:t}),Object(M.jsx)(pe.a,{variant:"body2",color:"text.secondary",children:n})]}),Object(M.jsx)(he,{style:{height:"100%",width:"100%",maxWidth:120,objectFit:"cover"},src:r||h,alt:t})]})})}var Te=n(271),Be=n(244),Re=n(272),Ie=n(273);function Pe(e){var t=e.isOpen,n=void 0!==t&&t,r=e.title,i=void 0===r?"":r,a=e.description,c=void 0===a?"":a,s=e.type,o=void 0===s?"CONFIRM":s,u=e.submitText,l=e.onSubmit,d=void 0===l?function(){}:l,b=e.onClose,j=void 0===b?function(){}:b;return Object(M.jsxs)(Te.a,{onClose:j,open:n,children:[Object(M.jsx)(Be.a,{onClose:j,children:i}),Object(M.jsx)(Re.a,{dividers:!0,children:Object(M.jsx)(pe.a,{children:c})}),Object(M.jsxs)(Ie.a,{children:[Object(M.jsx)(Y,{variant:"text",onClick:j,children:"Cancelar"}),Object(M.jsx)(Y,{color:"CONFIRM"===o?"primary":"error",onClick:d,children:u||("CONFIRM"===o?"Confirmar":"Recusar")})]})]})}var Ae=n(4),Ee=["userType"],Ne=function(e){var t=e.email,n=e.password;return!(!t||!n)},He=Object(r.createContext)({state:{email:"",password:"",isLoading:!1},handleChange:function(){},onSubmit:function(){},goToRegisterPage:function(){}}),_e=function(e){var t=e.children,n=G(),i=n.setUser,a=n.setUserType,c=Object(u.useHistory)(),o=Object(r.useState)({email:"",password:"",isLoading:!1}),l=Object(f.a)(o,2),p=l[0],O=l[1],h=function(){var e=Object(j.a)(x.a.mark((function e(t){var n,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!p.isLoading){e.next=3;break}return e.abrupt("return");case 3:if(O((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),Ne(p)){e.next=9;break}return s.a.error("Todos os campos devem ser preenchidos!"),O((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})})),e.abrupt("return");case 9:return e.next=11,T({email:p.email,password:p.password});case 11:(n=e.sent)&&(r=n.userType,o=Object(b.a)(n,Ee),i(o),a(r),u=n.accessToken,localStorage.setItem("@barber:access-token",u),"BARBER"===r?(c.push("/barber"),c.go(0)):"CLIENT"===r&&(c.push("/client"),c.go(0))),O((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 14:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(He.Provider,{value:{state:p,handleChange:function(e){O((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(Ae.a)({},e.target.id,e.target.value))}))},onSubmit:h,goToRegisterPage:function(){c.push("/sign-up")}},children:t})};n(186);var Ue=function(){var e=function(){var e=Object(r.useContext)(He);if(!e)throw new Error("useLogin must be used within an LoginProvider.");return e}(),t=e.state,n=e.handleChange,i=e.onSubmit,a=e.goToRegisterPage;return Object(M.jsx)("div",{className:"login-page-container",children:Object(M.jsxs)("form",{className:"login-form-container",onSubmit:i,children:[Object(M.jsx)("h1",{children:"Bem vindo"}),Object(M.jsx)(de,{id:"email",type:"email",label:"Email",value:t.email,onChange:n}),Object(M.jsx)(de,{id:"password",type:"password",label:"Senha",value:t.password,onChange:n}),Object(M.jsx)(Y,{onClick:i,isLoading:t.isLoading,children:"Login"}),Object(M.jsx)(Y,{variant:"outline",onClick:a,children:"Cadastrar"})]})})},We=function(){return Object(M.jsx)(_e,{children:Object(M.jsx)(Ue,{})})},Fe=Object(r.createContext)({state:{name:"",email:"",password:"",passwordConfirmation:"",isLoading:!1},handleChange:function(){},onSubmit:function(){},goBack:function(){}}),ze=function(e){var t=e.children,n=Object(u.useHistory)(),i=Object(r.useState)({name:"",email:"",password:"",passwordConfirmation:"",isLoading:!1}),a=Object(f.a)(i,2),c=a[0],o=a[1],l=function(e){var t=e.name,n=e.email,r=e.password,i=e.passwordConfirmation;return!!(t&&n&&r&&i)},b=function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!c.isLoading){e.next=3;break}return e.abrupt("return");case 3:if(o((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),l(c)){e.next=9;break}return s.a.error("Todos os campos devem ser preenchidos!"),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})})),e.abrupt("return");case 9:return e.next=11,R({name:c.name,email:c.email,password:c.password});case 11:e.sent&&(n.push("/login"),s.a.success("Cliente cadastrado com sucesso!")),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(Fe.Provider,{value:{state:c,handleChange:function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(Ae.a)({},e.target.id,e.target.value))}))},onSubmit:b,goBack:function(){n.push("/login")}},children:t})};n(187);var Me=function(){var e=function(){var e=Object(r.useContext)(Fe);if(!e)throw new Error("useSignUp must be used within an SignUpProvider.");return e}(),t=e.state,n=e.handleChange,i=e.onSubmit,a=e.goBack;return Object(M.jsx)("div",{className:"sign-up-page-container",children:Object(M.jsxs)("form",{className:"sign-up-form-container",onSubmit:i,children:[Object(M.jsx)("h1",{children:"Cadastro"}),Object(M.jsx)(de,{id:"name",label:"Nome",value:t.name,onChange:n}),Object(M.jsx)(de,{id:"email",type:"email",label:"Email",value:t.email,onChange:n}),Object(M.jsx)(de,{id:"password",type:"password",label:"Senha",value:t.password,onChange:n}),Object(M.jsx)(de,{id:"passwordConfirmation",type:"password",label:"Confirmar senha",value:t.passwordConfirmation,onChange:n}),Object(M.jsx)(Y,{type:"submit",isLoading:t.isLoading,children:"Cadastrar"}),Object(M.jsx)(Y,{variant:"outline",onClick:a,children:"Voltar"})]})})},Ve=function(){return Object(M.jsx)(ze,{children:Object(M.jsx)(Me,{})})},Xe=Object(r.createContext)({isLoading:!1,services:[],findBarbers:function(){}}),qe=function(e){var t=e.children,n=Object(r.useState)({isLoading:!1,services:[]}),i=Object(f.a)(n,2),a=i[0],c=i[1],s=Object(r.useCallback)(Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,P();case 3:(t=e.sent)&&c((function(e){return Object(d.a)(Object(d.a)({},e),{},{services:t})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 6:case"end":return e.stop()}}),e)}))),[]);return Object(M.jsx)(Xe.Provider,{value:Object(d.a)(Object(d.a)({},a),{},{findBarbers:s}),children:t})};n(188);var Ge=function(){var e=Object(u.useHistory)(),t=function(){var e=Object(r.useContext)(Xe);if(!e)throw new Error("useClientHome must be used within an ClientHomeProvider.");return e}(),n=t.findBarbers,i=t.services,a=t.isLoading;Object(r.useEffect)((function(){n()}),[n]);return Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",gap:"12px"},children:[Object(M.jsx)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"48px",paddingLeft:"32px"},children:Object(M.jsx)(pe.a,{variant:"h4",children:"Barbearias"})}),i.map((function(t){var n;return Object(M.jsx)(Le,{title:t.name,description:null===(n=t.address)||void 0===n?void 0:n.neighborhood,imageUrl:t.image,onPress:function(){return n=t._id,void e.push("/client/offers/".concat(n));var n}},t._id)})),a&&Object(M.jsxs)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:[Object(M.jsx)(ne,{})," Buscando barbearias..."]}),0===i.length&&!a&&Object(M.jsx)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:"Nenhuma barbearia foi encontrado"})]})},Je=function(){return Object(M.jsx)(qe,{children:Object(M.jsx)(Ge,{})})},Qe=n.p+"static/media/barber-background.473224a5.jpg",Ye=n(245),$e=function(e){var t=e.disableBackButton,n=void 0!==t&&t,r=e.onGoBack,i=void 0===r?function(){}:r,a=e.onGoNext,c=void 0===a?function(){}:a,s=e.backButtonText,o=void 0===s?"":s,u=e.isLoading;return Object(M.jsxs)(Ye.a,{sx:{position:"fixed",width:"100%",padding:"18px 32px",height:"80px",bottom:0,borderRadius:"10px 10px 0 0",backgroundColor:"primary.light",display:"flex",justifyContent:"space-between",boxSizing:"border-box"},children:[n?Object(M.jsx)(Ye.a,{}):Object(M.jsx)(Y,{onClick:i,variant:"text",color:"secondary",sx:{textTransform:"none"},children:o}),Object(M.jsx)(Y,{onClick:c,color:"secondary",isLoading:u,children:"Continuar"})]})},Ke=n(109),Ze=["07/06 terca-feira","08/06 quarta-feira","09/06 quinta-feira","10/06 sexta-feira","11/06 sabado","12/06 domingo","13/06 segunda-feira","14/06 terca-feira","15/06 quarta-feira","16/06 quinta-feira","17/06 sexta-feira","18/06 sabado","19/06 domingo"],et=["09:00 as 09:30","09:30 as 10:00","10:00 as 10:30","10:30 as 11:00","11:00 as 12:00","13:00 as 13:30","13:30 as 14:30","14:00 as 14:30","14:30 as 15:30","15:00 as 15:30","15:30 as 16:30","16:00 as 16:30","16:30 as 17:30","17:30 as 18:00"],tt=function(e){var t=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"});return{key:e._id,offerId:e.offerId,barberId:e.barberId,isSelected:!1,price:t.format(e.price),priceValue:e.price,imageUrl:e.image,title:e.description,duration:"".concat(e.estimatedTime," minutos")}},nt=Object(r.createContext)({isLoading:!1,services:[],step:4,barber:{name:"",imageUrl:""},days:[],hours:[],findBarberServices:function(){},findBarberDetails:function(){},toggleService:function(){},backStep:function(){},nextStep:function(){},onSelectDay:function(){},onSelectHour:function(){}}),rt=function(e){var t=e.children,n=Object(Ke.useHistory)(),i=G().user,a=Object(r.useState)({isLoading:!1,services:[],step:1,finalPrice:0,barber:{name:"",imageUrl:""},days:Ze.map((function(e,t){return{label:e,key:t,isSelected:!1}})),hours:et.map((function(e,t){return{label:e,key:t,isSelected:!1}}))}),c=Object(f.a)(a,2),o=c[0],u=c[1],l=Object(r.useCallback)(function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,A(t);case 3:(n=e.sent)&&u((function(e){return Object(d.a)(Object(d.a)({},e),{},{barber:{imageUrl:n.image,name:n.name}})})),u((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),b=Object(r.useCallback)(function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,E(t);case 3:(n=e.sent)&&u((function(e){return Object(d.a)(Object(d.a)({},e),{},{services:n.map(tt)})})),u((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),p=function(){var e=Object(j.a)(x.a.mark((function e(t){var n,r,a,c,s,l,b,j,p,O,h,m;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),n=o.services.filter((function(e){return e.isSelected})),r=o.days.find((function(e){return e.isSelected})).label.split(" ")[0].split("/"),a=Object(f.a)(r,2),c=a[0],s=a[1],l=o.hours.find((function(e){return e.isSelected})).label.split(" ")[0].split(":"),b=Object(f.a)(l,2),j=b[0],p=b[1],O=(new Date).getFullYear(),h=new Date(O,Number(s)-1,Number(c),Number(j),Number(p),0,0).getTime(),e.next=8,N({offersId:n.map((function(e){return e.offerId})),barberId:n.find((function(e){return e.barberId})).barberId,clientId:i._id,date:h,paymentType:"money",isAccepted:null});case 8:(m=e.sent)&&u((function(e){return Object(d.a)(Object(d.a)({},e),{},{services:m.map(tt)})})),u((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){if(1===o.step)return!!o.services.find((function(e){return e.isSelected}))||(s.a.error("Selecione algum servi\xe7o para prosseguir!"),!1);if(2===o.step){var e=o.hours.find((function(e){return e.isSelected})),t=o.days.find((function(e){return e.isSelected}));return!(!e||!t)||(s.a.error("Selecione o hor\xe1rio e dia para prosseguir!"),!1)}return!0},h=function(){var e=Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O()){e.next=3;break}return e.abrupt("return");case 3:if(o.step+1===3&&(t=o.services.filter((function(e){return e.isSelected})).map((function(e){return e.priceValue})).reduce((function(e,t){return e+t}),0),u((function(e){return Object(d.a)(Object(d.a)({},e),{},{finalPrice:t})}))),o.step+1!==4){e.next=7;break}return e.next=7,p();case 7:o.step+1===5&&n.push("/client"),u((function(e){return Object(d.a)(Object(d.a)({},e),{},{step:e.step+1})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(nt.Provider,{value:Object(d.a)(Object(d.a)({},o),{},{findBarberServices:b,findBarberDetails:l,toggleService:function(e){var t=o.services.map((function(t){return t.key===e?Object(d.a)(Object(d.a)({},t),{},{isSelected:!t.isSelected}):t}));u((function(e){return Object(d.a)(Object(d.a)({},e),{},{services:t})}))},backStep:function(){1!==o.step?u((function(e){return Object(d.a)(Object(d.a)({},e),{},{step:e.step-1})})):n.push("/client")},nextStep:h,onSelectDay:function(e){var t=o.days.find((function(e){return e.isSelected})),n=o.days.map((function(n){return n.key===e?Object(d.a)(Object(d.a)({},n),{},{isSelected:!n.isSelected}):t?Object(d.a)(Object(d.a)({},n),{},{isSelected:!1}):n}));u((function(e){return Object(d.a)(Object(d.a)({},e),{},{days:n})}))},onSelectHour:function(e){var t=o.hours.find((function(e){return e.isSelected})),n=o.hours.map((function(n){return n.key===e?Object(d.a)(Object(d.a)({},n),{},{isSelected:!n.isSelected}):t?Object(d.a)(Object(d.a)({},n),{},{isSelected:!1}):n}));u((function(e){return Object(d.a)(Object(d.a)({},e),{},{hours:n})}))}}),children:t})};var it=n.p+"static/media/success-illustration.91ffba69.svg",at=function(){return Object(M.jsxs)(be.a,{sx:{marginX:"32px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(M.jsx)(he,{src:it,style:{height:"340px",width:"100%",objectFit:"contain"}}),Object(M.jsx)(pe.a,{variant:"h6",sx:{textAlign:"center"},children:"Tudo pronto!"}),Object(M.jsx)(pe.a,{sx:{textAlign:"center"},children:"Agora \xe9 s\xf3 aguardar a confirma\xe7\xe3o do seu barbeiro"})]})},ct=n(256),st=n(246),ot=function(e){var t=e.days,n=void 0===t?[]:t,r=e.hours,i=void 0===r?[]:r,a=e.onSelectDay,c=e.onSelectHour;return Object(M.jsxs)(be.a,{sx:{marginX:"32px"},children:[Object(M.jsx)(pe.a,{children:"Dia"}),Object(M.jsx)(be.a,{sx:{gap:"12px",display:"flex",flexWrap:"wrap",marginBottom:"24px"},children:n.map((function(e){return Object(M.jsx)(ct.a,{sx:{flex:1},label:e.label,onClick:function(){return a(e.key)},icon:e.isSelected?Object(M.jsx)(st.a,{}):null,variant:e.isSelected?"":"outlined"},e.key)}))}),Object(M.jsx)(pe.a,{children:"Hor\xe1rio"}),Object(M.jsx)(be.a,{sx:{gap:"12px",display:"flex",flexWrap:"wrap"},children:i.map((function(e){return Object(M.jsx)(ct.a,{sx:{flex:1},label:e.label,onClick:function(){return c(e.key)},icon:e.isSelected?Object(M.jsx)(st.a,{}):null,variant:e.isSelected?"":"outlined"},e.key)}))})]})},ut=n(253),lt=n(274),dt=function(e){var t=e.isSelected,n=void 0!==t&&t,r=e.title,i=void 0===r?"Corte de cabelo e unha":r,a=e.duration,c=void 0===a?"20min":a,s=e.price,o=void 0===s?"R$ 20,00":s,u=e.imageUrl,l=e.onPress,d=void 0===l?function(){}:l;return Object(M.jsx)(Se.a,{sx:{height:120,marginX:"32px"},children:Object(M.jsxs)(ke.a,{onClick:d,sx:{height:120,display:"flex",flexDirection:"row",justifyContent:"space-between",borderRadius:3},children:[Object(M.jsx)(De.a,{sx:{flex:1},children:Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(M.jsx)(be.a,{children:Object(M.jsx)(ut.a,{checked:n})}),Object(M.jsxs)(be.a,{children:[Object(M.jsx)(pe.a,{variant:"h6",fontWeight:"medium",children:i}),Object(M.jsx)(pe.a,{variant:"body2",color:"text.secondary",children:c}),Object(M.jsx)(pe.a,{variant:"h5",children:o})]})]})}),Object(M.jsx)(lt.a,{component:"img",sx:{height:120,width:120,maxWidth:120},image:u||h,alt:i})]})})},bt=function(e){var t=e.services,n=void 0===t?[]:t,r=e.toggleService,i=void 0===r?function(){}:r;return Object(M.jsx)(be.a,{sx:{gap:"12px",display:"flex",flexDirection:"column",marginTop:"48px"},children:n.map((function(e){return Object(M.jsx)(dt,Object(d.a)(Object(d.a)({},e),{},{onPress:function(){return i(e.key)}}))}))})},jt=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),ft=function(e){var t=e.services,n=void 0===t?[]:t,r=e.day,i=e.hour,a=e.finalPrice;return Object(M.jsxs)(be.a,{sx:{marginX:"32px",display:"flex",flexDirection:"column",gap:"12px"},children:[Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Servicos"}),n.map((function(e){return Object(M.jsx)(ct.a,{label:e.title},e.key)}))]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Dia"}),Object(M.jsx)(ct.a,{label:r})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Horario"}),Object(M.jsx)(ct.a,{label:i})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Valor total"}),Object(M.jsx)(pe.a,{children:jt.format(a)})]})]})},pt=function(){var e,t,n=function(){var e=Object(r.useContext)(nt);if(!e)throw new Error("useClientCheckout must be used within an ClientCheckoutProvider.");return e}(),i=n.findBarberServices,a=n.findBarberDetails,c=n.toggleService,s=n.backStep,o=n.nextStep,l=n.onSelectDay,d=n.onSelectHour,b=n.services,j=n.isLoading,f=n.barber,p=n.step,x=n.days,O=n.hours,h=n.finalPrice,m=Object(u.useParams)().barberId;return Object(r.useEffect)((function(){m&&(i(m),a(m))}),[m,a,i]),Object(M.jsxs)("div",{className:"client-home-page-container",children:[Object(M.jsx)(he,{src:Qe,alt:"Barber cover",style:{width:"100%",height:"20%",maxHeight:180,marginTop:-20}}),Object(M.jsx)(he,{src:f.imageUrl,alt:"Barber logo",style:{height:120,width:120,marginLeft:32,marginTop:-64,borderRadius:12}}),Object(M.jsx)(pe.a,{variant:"h6",style:{marginLeft:180,marginTop:-46},children:f.name}),Object(M.jsxs)(be.a,{sx:{gap:"12px",display:"flex",flexDirection:"column",marginTop:"48px"},children:[j&&Object(M.jsxs)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:[Object(M.jsx)(ne,{})," Buscando servi\xe7os..."]}),0===b.length&&!j&&Object(M.jsx)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:"Nenhum servi\xe7o foi encontrado"}),1===p&&Object(M.jsx)(bt,{services:b,toggleService:c}),2===p&&Object(M.jsx)(ot,{days:x,hours:O,onSelectDay:l,onSelectHour:d}),3===p&&Object(M.jsx)(ft,{services:b.filter((function(e){return e.isSelected})),day:null===(e=x.find((function(e){return e.isSelected})))||void 0===e?void 0:e.label,hour:null===(t=O.find((function(e){return e.isSelected})))||void 0===t?void 0:t.label,finalPrice:h}),4===p&&Object(M.jsx)(at,{}),Object(M.jsx)($e,{disableBackButton:p>2,backButtonText:1===p?"Descartar":"Voltar",onGoBack:s,onGoNext:o,isLoading:j})]})]})},xt=function(){return Object(M.jsx)(rt,{children:Object(M.jsx)(pt,{})})},Ot=Object(r.createContext)({isLoading:!1,schedules:[],findClientSchedules:function(){}}),ht=function(e){var t=e.children,n=Object(r.useState)({isLoading:!1,schedules:[]}),i=Object(f.a)(n,2),a=i[0],c=i[1],s=Object(r.useCallback)(Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,W();case 3:(t=e.sent)&&c((function(e){return Object(d.a)(Object(d.a)({},e),{},{schedules:t.map((function(e){var t,n;return{title:null===(t=e.barberId.find((function(e){return e.name})))||void 0===t?void 0:t.name,imageUrl:null===(n=e.barberId.find((function(e){return e.image})))||void 0===n?void 0:n.image,description:k(e.date),_id:e._id}}))})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 6:case"end":return e.stop()}}),e)}))),[]);return Object(M.jsx)(Ot.Provider,{value:Object(d.a)(Object(d.a)({},a),{},{findClientSchedules:s}),children:t})};n(189);var mt=function(){var e=Object(u.useHistory)(),t=function(){var e=Object(r.useContext)(Ot);if(!e)throw new Error("useClientSchedule must be used within an ClientScheduleProvider.");return e}(),n=t.findClientSchedules,i=t.schedules,a=t.isLoading;return Object(r.useEffect)((function(){n()}),[n]),Object(M.jsxs)("div",{className:"client-schedule-page-container",children:[Object(M.jsx)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"48px",paddingLeft:"32px"},children:Object(M.jsx)(pe.a,{variant:"h4",children:"Agendamentos"})}),Object(M.jsx)(be.a,{sx:{display:"flex",flexDirection:"column",gap:"12px"},children:i.map((function(t){return Object(M.jsx)(Le,{title:t.title,description:t.description,imageUrl:t.imageUrl,onPress:function(){return e.push("/client/schedule/detail/".concat(t._id))}},t._id)}))}),a&&Object(M.jsxs)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:[Object(M.jsx)(ne,{})," Buscando agendamentos..."]}),0===i.length&&!a&&Object(M.jsx)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:"Nenhum agendamento foi encontrado"})]})},gt=function(){return Object(M.jsx)(ht,{children:Object(M.jsx)(mt,{})})},vt=Object(r.createContext)({isLoading:!1,schedule:{offers:[],day:"",hour:"",finalPrice:""},findClientScheduleDetail:function(){}}),yt=function(e){var t=e.children,n=G().user,i=Object(r.useState)({isLoading:!1,schedule:{offers:[],day:"",hour:"",finalPrice:""}}),a=Object(f.a)(i,2),c=a[0],s=a[1],o=Object(r.useCallback)(function(){var e=Object(j.a)(x.a.mark((function e(t){var r,i,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n&&n._id){e.next=2;break}return e.abrupt("return");case 2:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),r=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),e.next=6,F(t);case 6:i=e.sent,a=Object(f.a)(i,1),(c=a[0])&&s((function(e){return Object(d.a)(Object(d.a)({},e),{},{schedule:{isAccepted:c.isAccepted,clientName:c.barberId.find((function(e){return e.name})).name,clientImage:c.barberId.find((function(e){return e.image})).image,offers:c.offersId.map((function(e){return e.description})),day:C(c.date),hour:S(c.date),finalPrice:r.format(c.offersId.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0))}})})),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n._id]);return Object(M.jsx)(vt.Provider,{value:Object(d.a)(Object(d.a)({},c),{},{findClientScheduleDetail:o}),children:t})};n(190);var wt=function(){var e=Object(u.useParams)().scheduleId,t=function(){var e=Object(r.useContext)(vt);if(!e)throw new Error("useClientScheduleDetail must be used within an ClientScheduleDetailProvider.");return e}(),n=t.findClientScheduleDetail,i=t.schedule;return Object(r.useEffect)((function(){n(e)}),[n,e]),Object(M.jsxs)(be.a,{sx:{position:"relative"},children:[Object(M.jsx)(he,{src:Qe,alt:"Barber cover",style:{position:"absolute",width:"100%",height:"20%",maxHeight:180,marginTop:-20,zIndex:1}}),Object(M.jsxs)(be.a,{sx:{marginX:"32px",display:"flex",flexDirection:"column",gap:"12px",paddingTop:"80px"},children:[Object(M.jsx)(he,{src:i.clientImage,alt:"Client",style:{zIndex:2,height:120,width:120,marginTop:-64,borderRadius:12}}),Object(M.jsx)(pe.a,{variant:"h6",style:{marginLeft:150,marginTop:-46},children:i.clientName}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Servicos"}),Object(M.jsx)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"12px"},children:i.offers.map((function(e,t){return Object(M.jsx)(ct.a,{label:e},t)}))})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Dia"}),Object(M.jsx)(ct.a,{label:i.day})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Horario"}),Object(M.jsx)(ct.a,{label:i.hour})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Valor total"}),Object(M.jsx)(pe.a,{children:i.finalPrice})]}),i.isAccepted&&Object(M.jsx)(ct.a,{label:"Confirmado",color:"success",sx:{fontWeight:"bold",fontSize:14,marginTop:2}}),!1===i.isAccepted&&Object(M.jsx)(ct.a,{label:"Recusado",color:"error",sx:{fontWeight:"bold",fontSize:14,marginTop:2}}),!i.isAccepted&&!1!==i.isAccepted&&Object(M.jsx)(ct.a,{label:"Aguardando confirma\xe7\xe3o",color:"default",sx:{fontWeight:"bold",fontSize:14,marginTop:2}})]})]})},Ct=function(){return Object(M.jsx)(yt,{children:Object(M.jsx)(wt,{})})},St=n(110),kt=n.n(St),Dt=n(111),Lt=n.n(Dt),Tt=function(e){var t,n=e.isLoading,r=void 0!==n&&n,i=e.price,a=void 0===i?"":i,c=e.description,s=void 0===c?"":c,o=e.image,u=void 0===o?"":o,l=e.estimatedTime,d=void 0===l?"":l,b=e.onEdit,j=void 0===b?function(){}:b,f=e.onDelete,p=void 0===f?function(){}:f;return Object(M.jsxs)(Se.a,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",borderRadius:3},children:[Object(M.jsxs)(De.a,{sx:{display:"flex"},children:[Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"12px",marginRight:1},children:[Object(M.jsx)(Y,{color:"secondary",sx:{maxWidth:"35px",minWidth:"35px",maxHeight:"35px",minHeight:"35px"},isLoading:r,onClick:j,children:Object(M.jsx)(kt.a,{})}),Object(M.jsx)(Y,{color:"error",sx:{maxWidth:"35px",minWidth:"35px",maxHeight:"35px",minHeight:"35px"},isLoading:r,onClick:p,children:Object(M.jsx)(Lt.a,{})})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{variant:"h6",fontWeight:"medium",children:s}),Object(M.jsxs)(pe.a,{variant:"body2",color:"text.secondary",children:[d," min"]}),Object(M.jsxs)(pe.a,{variant:"h5",color:"text.secondary",children:["R$",null===(t=Number(a))||void 0===t?void 0:t.toFixed(2).replace(".",",")]})]})]}),Object(M.jsx)(he,{style:{width:"100%",maxWidth:120},src:u||h,alt:s})]})},Bt=(n(275),Object(r.createContext)({state:{services:[],isLoading:!1,dialog:{id:"",open:!1,description:""}},findServices:function(){},onOpenDeleteConfirmDialog:function(){},onCloseDialog:function(){},onDelete:function(){},onCreateService:function(){},onEditService:function(){}})),Rt=function(e){var t=e.children,n=Object(u.useHistory)(),i=Object(r.useState)({services:[],isLoading:!1,dialog:{id:"",open:!1,description:""}}),a=Object(f.a)(i,2),c=a[0],s=a[1],o=Object(r.useCallback)(Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,I();case 3:t=e.sent,s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,services:t||[]})}));case 5:case"end":return e.stop()}}),e)}))),[]),l=function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,_(t);case 3:return e.next=5,o();case 5:s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,dialog:{id:"",open:!1,description:""}})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(Bt.Provider,{value:{state:c,findServices:o,onOpenDeleteConfirmDialog:function(e,t){s((function(n){return Object(d.a)(Object(d.a)({},n),{},{dialog:{id:e,open:!0,description:t}})}))},onCloseDialog:function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},{dialog:{id:"",open:!1,description:""}})}))},onDelete:l,onCreateService:function(){n.push("/barber/new-service")},onEditService:function(e){n.push({pathname:"/barber/new-service",state:{service:e}})}},children:t})};n(191);var It=function(){var e=function(){var e=Object(r.useContext)(Bt);if(!e)throw new Error("useBarberHome must be used within an BarberHomeProvider.");return e}(),t=e.state,n=e.findServices,i=e.onOpenDeleteConfirmDialog,a=e.onCloseDialog,c=e.onDelete,s=e.onCreateService,o=e.onEditService;return Object(r.useEffect)((function(){n()}),[n]),Object(M.jsxs)(be.a,{sx:{height:"100%",marginX:"32px"},children:[Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"48px"},children:[Object(M.jsx)(pe.a,{variant:"h4",children:"Servi\xe7os"}),Object(M.jsx)(Y,{color:"secondary",onClick:s,children:"Novo Servi\xe7o"})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",gap:"12px"},children:[!t.services.length&&t.isLoading&&Object(M.jsx)(ne,{}),t.services.map((function(e){return Object(M.jsx)(Tt,{isLoading:t.isLoading,price:e.price,description:e.description,image:e.image,estimatedTime:e.estimatedTime,onEdit:function(){return o(e)},onDelete:function(){return i(e._id,e.description)}},e._id)}))]}),Object(M.jsx)(Pe,{isOpen:t.dialog.open,onClose:a,onSubmit:function(){return c(t.dialog.id)},type:"ERROR",submitText:"Remover",title:"Remover servi\xe7o",description:"Voc\xea tem certeza que deseja excluir ".concat(t.dialog.description,"?")}),t.isLoading&&Object(M.jsxs)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:[Object(M.jsx)(ne,{})," Buscando servi\xe7os..."]}),0===t.services.length&&!t.isLoading&&Object(M.jsx)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:"Nenhum servi\xe7o foi encontrado"})]})},Pt=function(){return Object(M.jsx)(Rt,{children:Object(M.jsx)(It,{})})},At=n(247),Et=n(248),Nt=n(249),Ht=Object(r.createContext)({state:{description:"",price:"",estimatedTime:"",image:"",isLoading:!1},handleChange:function(){},onSubmit:function(){},goBack:function(){}}),_t=function(e){var t=e.children,n=Object(u.useLocation)(),i=Object(u.useHistory)(),a=Object(r.useState)({_id:"",description:"",price:"",estimatedTime:"",image:"",isLoading:!1,isEditing:!1}),c=Object(f.a)(a,2),o=c[0],l=c[1];Object(r.useEffect)((function(){n.state&&n.state.service&&l((function(){return Object(d.a)(Object(d.a)({},n.state.service),{},{isEditing:!0})}))}),[n.state]);var b=function(e){var t=e.description,n=e.price,r=e.estimatedTime,i=e.image;return!!(t&&n&&r&&i)},p=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!o.isLoading){e.next=3;break}return e.abrupt("return");case 3:if(l((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),b(o)){e.next=9;break}return s.a.error("Todos os campos devem ser preenchidos!"),l((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})})),e.abrupt("return");case 9:if(o.isEditing){e.next=16;break}return e.next=12,H({description:o.description,price:o.price,estimatedTime:o.estimatedTime,image:o.image});case 12:e.sent&&(O(),s.a.success("Servi\xe7o cadastrado com sucesso!")),e.next=21;break;case 16:return n={_id:o._id,description:o.description,price:o.price,estimatedTime:o.estimatedTime,image:o.image},e.next=19,U(n);case 19:O(),s.a.success("Servi\xe7o editado com sucesso!");case 21:l((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){i.push("/barber")};return Object(M.jsx)(Ht.Provider,{value:{state:o,handleChange:function(e){l((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(Ae.a)({},e.target.id,e.target.value))}))},onSubmit:p,goBack:O},children:t})};n(192);var Ut=function(){var e=function(){var e=Object(r.useContext)(Ht);if(!e)throw new Error("useNewService must be used within an NewServiceProvider.");return e}(),t=e.state,n=e.handleChange,i=e.onSubmit,a=e.goBack;return Object(M.jsx)("div",{className:"new-service-page-container",children:Object(M.jsxs)("form",{className:"new-service-form-container",onSubmit:i,children:[Object(M.jsx)("h1",{children:"Criar Servi\xe7o"}),Object(M.jsx)(ce.a,{id:"description",label:"Descri\xe7\xe3o",variant:"outlined",value:t.description,onChange:n,InputProps:{startAdornment:Object(M.jsx)(At.a,{})}}),Object(M.jsx)(ce.a,{id:"price",type:"number",label:"Pre\xe7o",variant:"outlined",value:t.price,onChange:n,InputProps:{startAdornment:Object(M.jsx)(Et.a,{})}}),Object(M.jsx)(ce.a,{id:"estimatedTime",type:"number",label:"Tempo estimado",variant:"outlined",value:t.estimatedTime,onChange:n,InputProps:{startAdornment:Object(M.jsx)(we.a,{})}}),Object(M.jsx)(ce.a,{id:"image",label:"Imagem",variant:"outlined",value:t.image,onChange:n,InputProps:{startAdornment:Object(M.jsx)(Nt.a,{})}}),Object(M.jsx)(Y,{type:"submit",isLoading:t.isLoading,children:t.isEditing?"Salvar":"Criar"}),Object(M.jsx)(Y,{variant:"outline",onClick:a,children:"Voltar"})]})})},Wt=function(){return Object(M.jsx)(_t,{children:Object(M.jsx)(Ut,{})})},Ft=Object(r.createContext)({isLoading:!1,schedules:[],findBarberSchedules:function(){}}),zt=function(e){var t=e.children,n=Object(r.useState)({isLoading:!1,schedules:[]}),i=Object(f.a)(n,2),a=i[0],c=i[1],s=Object(r.useCallback)(Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,W();case 3:(t=e.sent)&&c((function(e){return Object(d.a)(Object(d.a)({},e),{},{schedules:t.map((function(e){var t,n;return{isAccepted:e.isAccepted,title:null===(t=e.clientId)||void 0===t?void 0:t[0].name,imageUrl:null===(n=e.clientId)||void 0===n?void 0:n[0].image,description:k(e.date),offers:e.offersId.map((function(e){return e.description})),_id:e._id}}))})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 6:case"end":return e.stop()}}),e)}))),[]);return Object(M.jsx)(Ft.Provider,{value:Object(d.a)(Object(d.a)({},a),{},{findBarberSchedules:s}),children:t})};n(193);var Mt=function(){var e=Object(u.useHistory)(),t=function(){var e=Object(r.useContext)(Ft);if(!e)throw new Error("useBarberSchedule must be used within an BarberScheduleProvider.");return e}(),n=t.findBarberSchedules,i=t.schedules,a=t.isLoading;return Object(r.useEffect)((function(){n()}),[n]),Object(M.jsxs)("div",{className:"barber-schedule-page-container",children:[Object(M.jsx)(Ye.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"48px",paddingLeft:"32px"},children:Object(M.jsx)(pe.a,{variant:"h4",children:"Agendamentos"})}),Object(M.jsx)(Ye.a,{sx:{gap:"12px",display:"flex",flexDirection:"column"},children:i.map((function(t){return Object(M.jsxs)(Ye.a,{sx:{position:"relative"},children:[Object(M.jsx)(Le,{title:t.title,description:t.description,imageUrl:t.imageUrl,onPress:function(){return e.push("/barber/schedule/detail/".concat(t._id))}},t._id),t.isAccepted&&Object(M.jsx)(ct.a,{label:"Confirmado",color:"success",sx:{position:"absolute",right:55,bottom:4}}),!1===t.isAccepted&&Object(M.jsx)(ct.a,{label:"Recusado",color:"error",sx:{position:"absolute",right:55,bottom:4}})]},t._id)}))}),a&&Object(M.jsxs)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:[Object(M.jsx)(ne,{})," Buscando agendamentos..."]}),0===i.length&&!a&&Object(M.jsx)(pe.a,{textAlign:"center",sx:{paddingTop:4},children:"Nenhum agendamento foi encontrado"})]})},Vt=function(){return Object(M.jsx)(zt,{children:Object(M.jsx)(Mt,{})})},Xt=Object(r.createContext)({isLoading:!1,schedule:{offers:[],day:"",hour:"",finalPrice:""},isRefuseDialogOpen:!1,isConfirmDialogOpen:!1,findBarberScheduleDetail:function(){},toggleRefuseDialog:function(){},toggleConfirmDialog:function(){},submitConfirmDialog:function(){},submitRefuseDialog:function(){}}),qt=function(e){var t=e.children,n=G().user,i=Object(r.useState)({isLoading:!1,schedule:{offers:[],day:"",hour:"",finalPrice:""},isRefuseDialogOpen:!1,isConfirmDialogOpen:!1}),a=Object(f.a)(i,2),c=a[0],s=a[1],o=Object(r.useCallback)(function(){var e=Object(j.a)(x.a.mark((function e(t){var r,i,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n&&n._id){e.next=2;break}return e.abrupt("return");case 2:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),r=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),e.next=6,F(t);case 6:i=e.sent,a=Object(f.a)(i,1),(c=a[0])&&s((function(e){return Object(d.a)(Object(d.a)({},e),{},{schedule:{_id:c._id,isAccepted:c.isAccepted,clientName:c.clientId.find((function(e){return e.name})).name,clientImage:c.clientId.find((function(e){return e.image})).image,offers:c.offersId.map((function(e){return e.description})),day:C(c.date),hour:S(c.date),finalPrice:r.format(c.offersId.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0))}})})),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n._id]),u=function(){var e=Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isRefuseDialogOpen:!e.isRefuseDialogOpen})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isConfirmDialogOpen:!e.isConfirmDialogOpen})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,z(c.schedule._id,{isAccepted:!1});case 3:return e.next=5,o(c.schedule._id);case 5:u(),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0})})),e.next=3,z(c.schedule._id,{isAccepted:!0});case 3:return e.next=5,o(c.schedule._id);case 5:l(),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1})}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(Xt.Provider,{value:Object(d.a)(Object(d.a)({},c),{},{findBarberScheduleDetail:o,toggleRefuseDialog:u,toggleConfirmDialog:l,submitConfirmDialog:p,submitRefuseDialog:b}),children:t})};n(194);var Gt=function(){var e=Object(u.useParams)().scheduleId,t=function(){var e=Object(r.useContext)(Xt);if(!e)throw new Error("useBarberScheduleDetail must be used within an BarberScheduleDetailProvider.");return e}(),n=t.findBarberScheduleDetail,i=t.toggleRefuseDialog,a=t.toggleConfirmDialog,c=t.submitConfirmDialog,s=t.submitRefuseDialog,o=t.schedule,l=t.isLoading,d=t.isConfirmDialogOpen,b=t.isRefuseDialogOpen;return Object(r.useEffect)((function(){n(e)}),[n,e]),Object(M.jsxs)(be.a,{sx:{marginX:"32px",display:"flex",flexDirection:"column",gap:"12px",paddingTop:"80px"},children:[Object(M.jsx)(Pe,{isOpen:b,onClose:i,onSubmit:s,type:"ERROR",title:"Recusar agendamento",description:"Realmente deseja recusar o agendamento com \u201c".concat(o.clientName,"\u201d?")}),Object(M.jsx)(Pe,{isOpen:d,onClose:a,onSubmit:c,title:"Confirmar agendamento",description:"Realmente deseja confirmar o agendamento com \u201c".concat(o.clientName,"\u201d?")}),Object(M.jsx)(he,{src:o.clientImage,alt:"Client",style:{height:120,width:120,marginTop:-64,borderRadius:12}}),Object(M.jsx)(pe.a,{variant:"h6",style:{marginLeft:150,marginTop:-46,marginBottom:"48px"},children:o.clientName}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Servicos"}),Object(M.jsx)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"12px"},children:o.offers.map((function(e,t){return Object(M.jsx)(ct.a,{label:e},t)}))})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Dia"}),Object(M.jsx)(ct.a,{label:o.day})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Horario"}),Object(M.jsx)(ct.a,{label:o.hour})]}),Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(M.jsx)(pe.a,{children:"Valor total"}),Object(M.jsx)(pe.a,{children:o.finalPrice})]}),null===o.isAccepted&&Object(M.jsxs)(be.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"12px",marginTop:"52px"},children:[Object(M.jsx)(Y,{color:"error",fullWidth:!0,onClick:i,isLoading:l,children:"Recusar"}),Object(M.jsx)(Y,{fullWidth:!0,onClick:a,isLoading:l,children:"Confirmar"})]}),o.isAccepted&&Object(M.jsx)(ct.a,{label:"Confirmado",color:"success",sx:{fontWeight:"bold",fontSize:14,marginTop:2}}),!1===o.isAccepted&&Object(M.jsx)(ct.a,{label:"Recusado",color:"error",sx:{fontWeight:"bold",fontSize:14,marginTop:2}})]})},Jt=function(){return Object(M.jsx)(qt,{children:Object(M.jsx)(Gt,{})})},Qt=n(87),Yt=Object(Qt.a)({palette:{primary:{main:"#003058",light:"#BFCDDD"},secondary:{main:"#3A5985"}},components:{MuiButtonBase:{styleOverrides:{root:{borderRadius:"8px"}}},MuiButton:{styleOverrides:{root:{borderRadius:"8px"}}}}}),$t=function(){return Object(M.jsx)(o.a,{children:Object(M.jsx)(l.a,{theme:Yt,children:Object(M.jsx)(q,{children:Object(M.jsx)(u.Switch,{children:Object(M.jsxs)(Oe,{children:[Object(M.jsx)(u.Route,{exact:!0,path:"/login",component:function(){return Object(M.jsx)(We,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/sign-up",component:function(){return Object(M.jsx)(Ve,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/barber",component:function(){return Object(M.jsx)(Pt,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/barber/new-service",component:function(){return Object(M.jsx)(Wt,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/barber/schedule",component:function(){return Object(M.jsx)(Vt,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/barber/schedule/detail/:scheduleId",component:function(){return Object(M.jsx)(Jt,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/client",component:function(){return Object(M.jsx)(Je,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/client/offers/:barberId",component:function(){return Object(M.jsx)(xt,{})}}),Object(M.jsx)(u.Route,{exact:!0,path:"/client/schedule",component:function(){return Object(M.jsx)(gt,{})}}),Object(M.jsx)(u.Route,{path:"/client/schedule/detail/:scheduleId",component:function(){return Object(M.jsx)(Ct,{})}})]})})})})})};n(195),n(196);s.a.configure(),c.a.render(Object(M.jsx)(i.a.StrictMode,{children:Object(M.jsx)($t,{})}),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.763ad8e3.chunk.js.map